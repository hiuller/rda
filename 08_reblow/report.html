<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>Análise dos dados de ressopro</title>

<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 12px;
   margin: 8px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 { 
   font-size:2.2em; 
}

h2 { 
   font-size:1.8em; 
}

h3 { 
   font-size:1.4em; 
}

h4 { 
   font-size:1.0em; 
}

h5 { 
   font-size:0.9em; 
}

h6 { 
   font-size:0.8em; 
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre {	
   margin-top: 0;
   max-width: 95%;
   border: 1px solid #ccc;
   white-space: pre-wrap;
}

pre code {
   display: block; padding: 0.5em;
}

code.r, code.cpp {
   background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * { 
      background: transparent !important; 
      color: black !important; 
      filter:none !important; 
      -ms-filter: none !important; 
   }

   body { 
      font-size:12pt; 
      max-width:100%; 
   }
       
   a, a:visited { 
      text-decoration: underline; 
   }

   hr { 
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote { 
      padding-right: 1em; 
      page-break-inside: avoid; 
   }

   tr, img { 
      page-break-inside: avoid; 
   }

   img { 
      max-width: 100% !important; 
   }

   @page :left { 
      margin: 15mm 20mm 15mm 10mm; 
   }
     
   @page :right { 
      margin: 15mm 10mm 15mm 20mm; 
   }

   p, h2, h3 { 
      orphans: 3; widows: 3; 
   }

   h2, h3 { 
      page-break-after: avoid; 
   }
}

</style>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: rgb(88, 72, 246)
   }

   pre .number {
     color: rgb(0, 0, 205);
   }

   pre .comment {
     color: rgb(76, 136, 107);
   }

   pre .keyword {
     color: rgb(0, 0, 255);
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: rgb(3, 106, 7);
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>




</head>

<body>
<h1>Análise dos dados de ressopro</h1>

<p>O objetivo deste relatório é retratar a análise de dados conduzida para descobrir evidências que levem as causas do suposto aumento no índice de ressopro observado na Aciaria 2.</p>

<p>Foi preparada uma consulta em linguagem SQL para obtenção de dados. Os registros foram exportados para o formato <strong>CSV</strong> (<em>comma separated values</em>) para tratamento no software <strong>R</strong>.</p>

<pre><code class="r">rm(list=ls())
setwd(&quot;C:/Users/Public/Documents/RDataAnalysis/08_reblow&quot;)
rawData &lt;- read.csv(&quot;qry_ressopro_global.csv&quot;, sep=&quot;;&quot;)
names(rawData)
</code></pre>

<pre><code>##  [1] &quot;NUM_CORR_ACI&quot;        &quot;TEMPO_INIC_SOPRO_LD&quot; &quot;DT_PRODC_OBTD_ACI&quot;  
##  [4] &quot;GRAU&quot;                &quot;CD_SOP&quot;              &quot;CD_PDR_O2&quot;          
##  [7] &quot;TGUSA&quot;               &quot;MED_TGUSA&quot;           &quot;TP_CORR&quot;            
## [10] &quot;T_1INTER&quot;            &quot;T_2INTER&quot;            &quot;T_FS&quot;               
## [13] &quot;T_VAZAMENTO&quot;         &quot;VOL_RESS&quot;            &quot;PERC_SUCATA&quot;
</code></pre>

<p>O número de observações é 1774. São 15 colunas com informações das corridas sendo que o campo chave é <code>NUM_CORR_ACI</code>.</p>

<h2>Análise do efeito do percentual de sucata</h2>

<p>O percentual de sucata ao longo dos meses é apresentado a seguir. Inicialmente foi preciso criar uma coluna para agrupar os meses do ano de 2014. A maior data disponível é 2014-12-16 (no formato YYYY-MM-DD). <code>rawData</code> é um <code>data.frame</code> e vamos adicionar uma coluna chamada <code>mes</code> para conter apenas o número do mês corrente extraido da data (<code>DT_PRODC_OBTD_ACI</code>).</p>

<pre><code class="r">rawData$mes &lt;- format(as.Date(rawData$DT_PRODC_OBTD_ACI, format=&quot;%d/%m/%Y&quot;), format=&quot;%m&quot;)
</code></pre>

<p>O ressopro foi considerado quando o volume de oxigênio soprado foi superior a 40 Nm<sup>3</sup> .</p>

<pre><code class="r">rawData$ressopro &lt;- (rawData$VOL_RESS &gt; 40)
</code></pre>

<p>A taxa de ressopro mensal pôde, então, ser calculada:</p>

<pre><code class="r">tapply(rawData$ressopro, rawData$mes, sum)/table(rawData$mes)
</code></pre>

<pre><code>##     11     12 
## 0.1951 0.1643
</code></pre>

<p>Dentro dessas 1774 corridas, temos diferentes siglas (que possuem teores máximos admissíveis de fósforo diferentes) e diferentes percentuais de sucata. Queremos investigar se as taxas de ressopro obtidas em amostras estratificadas seriam consistentemente diferentes. Vamos criar um <em>bootstrap</em> a partir do <em>pool</em> de corridas em <code>rawData</code>. Realizei esta mesma análise no Excel e a conclusão obtida era a de que não havia diferença. Agora, vou criar uma função para fazer o <em>bootstrapping</em> automaticamente e conferir se as conclusões se sustentam. Depois, vamos umsar um banco de dados maior porque usando apenas 2 meses (como foi o caso da análise via Excel) estamos tirando o efeito &#39;aumento do ressopro&#39; pois estamos analisando apenas corridas oriúndas do período de &#39;alto índice de ressopro&#39;. </p>

<p>Vamos dar uma olhada no número de corridas por família:</p>

<pre><code class="r">j &lt;- table(rawData$TP_CORR)
</code></pre>

<p>Em função da quantidade de observações, vamos compor as amostras somente com as famílias em que a contagem for superior a 100 corridas.</p>

<pre><code class="r">incluir &lt;- names(j)[j&gt;100]
sub &lt;- subset(rawData, subset=rawData$TP_CORR %in% incluir)
table(as.character(sub$TP_CORR))
</code></pre>

<pre><code>## 
##        AA S &gt;  6 Duplo refino CAS  Duplo refino LF              UBC 
##              513              139              241              646
</code></pre>

<pre><code class="r">familias &lt;- c(&quot;AA&quot;, &quot;DR-CAS&quot;, &quot;DR-FP&quot;, &quot;UBC&quot;)
</code></pre>

<p>Depois deste procedimento ficamos com um subconjunto dos dados originais chamado <code>sub</code> que contém 1539 corridas. O percentual de sucata (variável em estudo) para as corridas do conjunto <code>sub</code> é mostrado a seguir:</p>

<pre><code class="r">sub$TP_CORR &lt;- droplevels(sub$TP_CORR)
plot(sub$PERC_SUCATA ~ jitter(as.numeric(sub$TP_CORR)), pch=19, col=&#39;red&#39;, cex=1.5, xlab=&quot;Tipo de aço&quot;, ylab=&quot;% sucata&quot;, xaxt=&#39;n&#39;)
title(&quot;Percentual de sucata por tipo de aço&quot;)
axis(side=1, at=c(1, 2, 3, 4), labels=familias)
</code></pre>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfgAAAH4CAMAAACR9g9NAAAAilBMVEX9/v0AAAAAACoAAFQAKioAKlQAKn8AVakqAAAqACoqAFQqKn8qVakqf38qf9NUAABUACpUAFRUKgBUKn9UVSpUVVRUf9NUqalUqf1/KgB/Kip/KlR/fyp/1Kl/1NN/1P2pVQCpqVSp/v3TfyrT1H/T/qnT/tPT/v39qVT91H/9/qn9/tP9/v3/AACEXRpsAAAALnRSTlP//////////////////////////////////////////////////////////wD/PKlhqgAAAAlwSFlzAAALEgAACxIB0t1+/AAAF75JREFUeJztnQt346oVheuZNp7eaZM7fTr3to0bt40TK///71VvCTggJA4P6+y9Zo1tJJ0NfAKBjJzfVJBI/SZ3BqA8AnihAnihAnihAnihAnihAnihAnihAnihAnihAnihAnihAnihAnihAnihAnihAnihAnihAnihAnihAnihAnihAnihAnihAnihKgf8x9Oh0WnNMWdi74+nr6+zDw9vazNCBXXtrBhS+VmfhQQqDvyXF/9DztRpEgqeDBqwM8AvqKug8+Gxqi5dy789f/lLfSLcng+HluWY/PXfTUqTfjjWn167Y6/daTOCb7b/vQ16mfUk79/aaNNhQ/ju8C7oEKsL09n1GXgc89U5HI6NobmTIwtDcKVgj1ValQj+3Db9x65eH/7X/N9UkJLcIlfAdz1G89qB73ergw4Hdi5d4njYrQ/fb/hfz7I/lIhz7PP1poLXd/LJglKwY9rqLgl839W/f2vbYVubx6aJtnVzmic/1q2mrc7TrOlWXTc/gG+Pu9S7jQd2qQPO/rAh/HD42HvPTqDHJnN1Btr+pO0VBkrNzj14bSd7FobgU8FmhyRTaeDr4l8P/RlQd6kvTcfYNRQ1uUWtgW8iTOCvDZ1mw3jg6DLv6q9jJ9sd3oPvP1T9KVLje2wD1m9OXb5aTeD1nexZGIJPBZsdkkwlge8HQQb4o548oFbANxfvZfDtNX4eZAg/HN4GHT9UEcAPwaeCAXz7ZuiNq66C+/7ycZasgq//a7rTepd2X7qrV3Ru4PWHDeGHw9ug44eK7uoJ8Mtd/aAh+FQw6V39UDnnwzD6GYfO0xhoNi5rUo5jcteqJvD6yKqLPmvY6hBr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" alt="plot of chunk unnamed-chunk-7"/> </p>

<p>Os tipos de aço foram codificados em números usando <code>as.numeric(sub$TP_CORR)</code>. Para saber quem é quem foi usado:</p>

<pre><code class="r">table(sub$TP_CORR, as.numeric(sub$TP_CORR))
</code></pre>

<pre><code>##                   
##                      1   2   3   4
##   AA S &gt;  6        513   0   0   0
##   Duplo refino CAS   0 139   0   0
##   Duplo refino LF    0   0 241   0
##   UBC                0   0   0 646
</code></pre>

<p>O gráfico da distribuição de sucata por tipo de aço mostra que existe uma concentração que cobre todas as famílias ao redor de 14% e 16%. O aço <code>AA</code> tem muitas corridas com mais de 23% e, neste caso, é possível fazer uma comparação onde o percentual de sucata tem um range maior entre os agrupamentos, perdendo apenas, a capacidade de avaliar o efeito do tipo de aço.</p>

<h3>Dividindo o conjunto de dados em grupos pelo percentual de sucata</h3>

<p>Vamos percorrer o conjunto de dados com janelas de banda fixa (inicialmente 1%) e vamos procurar as bandas que absorvem grande número de corridas transversalmente (entre todas as famílias). Sabemos pelo <em>jittered plot</em> que vamos encontrar tais famílias entre 14 e 16% de sucata. O comprimento da banda é importante porque entre 14 e 16% temos 2% de diferença. Se a banda tiver esse mesmo tamanho estaremos mais propensos ao confundimento. Iremos usar, portanto, <em>non overlapping bands</em>.</p>

<p>O algorítmo para varredura está resumido nas seguintes tarefas:</p>

<ul>
<li>obter um valor médio inicial</li>
<li>calcular o limite inferior como = valor inicial - (banda/2)</li>
<li>calcular o limite superior como = valor inicial + (banda/2)</li>
<li>contar quantos valores de cada família estao incluídos na banda</li>
</ul>

<pre><code class="r">banda &lt;- 1.0  
i &lt;- seq(from=13, to=20, by=0.1)
result &lt;- c()
for(x in i){
  intervalo &lt;- c(x-(banda/2), x+(banda/2))
  temp &lt;- as.numeric(tapply(as.numeric(sub$PERC_SUCATA &gt; intervalo[1] &amp; sub$PERC_SUCATA &lt; intervalo[2]), sub$TP_CORR, sum))
  result &lt;- rbind(result, c(x, temp))
}
rm(x, i, intervalo, temp, j)
</code></pre>

<p>Para obter uma saída gráfica para as contagens, usamos:</p>

<pre><code class="r">plot  (result[,2]~result[,1], pch=19, col=&quot;blue&quot;,   cex=1.5, ylab=&quot;Contagem&quot;, xlab=&quot;Meio faixa&quot;)
points(result[,3]~result[,1], pch=19, col=&quot;red&quot;,    cex=1.5)
points(result[,4]~result[,1], pch=19, col=&quot;green&quot;,  cex=1.5)
points(result[,5]~result[,1], pch=19, col=&quot;cyan&quot;,   cex=1.5)
title(&quot;Contagem de corridas por faixa de sucata&quot;)
legend(x=13, y=115, legend=familias, col=c(&quot;blue&quot;, &quot;red&quot;, &quot;green&quot;, &quot;cyan&quot;), pch=19, cex=0.5)
</code></pre>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfgAAAH4CAMAAACR9g9NAAAA2FBMVEX9/v0AAAAAACoAAFQAAP8AKioAKlQAKn8AVX8AVakA/wAA//8qAAAqACoqAFQqKlQqKn8qVX8qVakqf38qf6kqf9NUAABUACpUAFRUKgBUKipUKn9UVSpUVVRUVX9UValUqalUqdNUqf1/KgB/Kip/KlR/VQB/VVR/VX9/fyp/f1R/f39/f9N/qX9/1Kl/1NN/1P2pVQCpVSqpVVSpfyqpf3+pqVSp1H+p/qmp/tOp/v3TfyrTf1TTf3/T1H/T/qnT/tPT/v39qVT91H/9/qn9/tP9/v3/AADNvCFIAAAASHRSTlP/////////////////////////////////////////////////////////////////////////////////////////////AP8iyuCfAAAACXBIWXMAAAsSAAALEgHS3X78AAAZ70lEQVR4nO2dC3vjuHVAoxltHUve6eRh76RNult70jzaJHaSTbZWk11LtvT//1EJgCBBEiRx8QbuPd+uR5YJEOIhLh4ExR+dCZT8KHUBiDSQeKSQeKSQeKSQeKSQeKSQeKSQeKSQeKSQeKSQeKSQeKSQeKSQeKSQeKSQeKSQeKSQeKSQeKSQeKSQeKSQeKSQeKSQeKSQeKQkFP96t9lsbvV/e7qH53b1Atn6/bNFspbTzebd4zgn90IJ4B/dinTijxvOte5vT5vA4t2SGRfPIneLj25FMvFvD6y2H3jVOYiq//bw/m+bzfvn5k/shGBnBvtr8+v77/gRZNvds1Pmx81bz4eNPEYswTfqFt27vDZ22b/75ebdn/jPP7J62iWTe2pq8qatv7Is4+SiPJvN1UubiNX40w0v9H2X0Xyh2l002T+L00KWUiQdffSAJBN/umHH5O3hnp3kourzT928EJ+etwTNAea/fcG2FtvdylixkZbadMoW/bvNFoPsr37gP7+/a88vlkzuSf6ry1Mmf5Hiv+8S8V3cH5tNljIQheo/VCtelrL9ww+Djx7y+CcTf+ya99MNrzj8dGdW+bESNURWp6bSXL3wU4UdseOGvbu5Z2lEBuMtunebjNTsr7mQ61HG/Z76Y83L0ggYJ+eoxePiX+++uOk6DcruNYWSp0UrXpayS6rmHerYMzIQf+QH9LC5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" alt="plot of chunk unnamed-chunk-10"/> </p>

<p>Analisando a saída gráfica, notamos que além de 17% não existem corridas do tipo DR-CAS e DR-FP. As faixas que tem número significativo de exemplos (observações) são 14,2% e 16,6%, conforme pode ser visto na análise abaixo:</p>

<pre><code class="r">lista &lt;- c()
for(i in seq(from=1, to=nrow(result)) ){
  lista &lt;- rbind(lista, c(result[i,1], min(result[i, -1])))
  ## http://mathesaurus.sourceforge.net/octave-r.html
}
rm(i)
plot(lista[,2]~lista[,1], pch=19, col=&quot;black&quot;, cex=1.5, xlab=&quot;Percentual sucata, %&quot;, ylab=&quot;Familia com menos corridas&quot;)
title(&quot;Tamanho do menor grupo por percentual de sucata &quot;)
</code></pre>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfgAAAH4CAMAAACR9g9NAAAAllBMVEX9/v0AAAAAACoAAFQAKioAKlQAKn8AVX8AVakqAAAqACoqAFQqKlQqKn8qVakqf38qf6kqf9NUAABUACpUAFRUKgBUKn9UVSpUqalUqf1/KgB/Kip/KlR/VQB/f6l/qX9/1NN/1P2pVQCpVVSpqVSp1H+p/qmp/v3TfyrT1H/T/qnT/tPT/v39qVT91H/9/qn9/tP9/v1IKWHpAAAAMnRSTlP/////////////////////////////////////////////////////////////////AA1QmO8AAAAJcEhZcwAACxIAAAsSAdLdfvwAABHoSURBVHic7Z0Lf6u2HYZL0mX22qzDTbc6p90abz3xutgO3//LDV24Y1tCEki87/M7bRJAfy4PugGCbwoCyTdLbwBZBooHheJBoXhQKB4UigeF4kGheFAoHhSKB4XiQaF4UCgeFIoHheJBoXhQKB4UigeF4kGheFAoHhSKB4XiQaF4UCgelCDiP18zycZs4cf3K7Muu6cPj5s1O4f9cNpl19rdKTs4FnQCFB+OQxZA/GjQCYQq6s9bsUun0v7DW/njz6/Z4/sxExutp5W+/5OVE8Uvv28zeTTKBbJcBxAnz8/yuLSmdgLJGfuiiVQv+vn68A+xDhXm8WsZRk36TZxkF/lnP41a+Hqk3rx9PU9saHeyWlCe/ZvPao3VftfiuztY2Txvq4Oik1XhVXIVtIrlQlDxl53I908fp6zi8b2apkuFTVH/Up7MTTGhp5ZB2lPbgfSMfCSAnCLzkvzt261e3dP/GvFj4YdTe5Fa8/R6y5BXNqcnvtrvSvwwnqA5Op0NrQ+bXNumWspFUNgcX6ii7VRueXkq7y87dZqKaeUe5aVIuWu5XPy8lRlCLXLelnt+zHpT24HkGsQBqiPVi5ZTNtVm6DBqUvt45uIo7zvhh1ObSK15zXo3eg2H7mS1ObJUbrKu3u9KfGsHdcL2YauTVeGr5HVR36kyJhBYvDg3hfiNli0OsJomf1cO9C8neYyPasfkH6NTq0A69ws5/QBqPZ0walJLvDhsxyzvhB9ObSK15rXXW64h12vqb05fvNrvSlhrB3XCQh+vTlF/qus+lVyL1384EFS8qLAa8eroV9O6DqzEq0CtI90P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" alt="plot of chunk unnamed-chunk-11"/> </p>

<h3>Subdividindo o conjunto de dados para os percentuais &#39;alto&#39; e &#39;baixo&#39;</h3>

<p>Como foi definido nas seções anteriores, os grupos de percentual de sucata com maior contagem transversal no período são 14,2% (<em>baixo</em>) e 16,6% (<em>alto</em>). A diferença máxima entre os grupos é de 3,4%. Essa diferença pode não ser grande o suficiente para garantir que o efeito da quantidade de sucata seja observável. </p>

<p>O valor da menor classe para o grupo 16,6% é 22 corridas. Temos um agrupamento com menor classe de tamanho 22 para 13,4% que garantiria uma diferença máxima de 4,2%. Os tamanhos de cada agrupamento para estes percentuais selecionados é mostrado abaixo:</p>

<pre><code class="r">resumo &lt;- data.frame(rbind(result[result[,1]==13.4], result[result[,1]==16.6]))
names(resumo) &lt;- c(&quot;perc&quot;, familias)
resumo
</code></pre>

<pre><code>##   perc AA DR-CAS DR-FP UBC
## 1 13.4 36     31    22  24
## 2 16.6 29     22    28 110
</code></pre>

<p>Notamos que a maior diferença está na família UBC que tem 24 corridas com sucata <em>baixa</em> e 110 corridas com sucata <em>alta</em>.
Podemos usar a reamostragem (<em>bootstrapping</em>) para contornar este problema mas antes vamos comparar os grupos sem a família UBC. Para proceguir precisamos subdividir o conjunto de dados para incluir apenas as corridas com os percentuais de sucata dentro das faixas consideradas como os níveis <em>alto</em> e <em>baixo</em>.</p>

<pre><code class="r">b &lt;- c(13.4-(banda/2), 13.4+(banda/2))
a &lt;- c(16.6-(banda/2), 16.6+(banda/2))
baixa &lt;- subset(sub, subset=sub$PERC_SUCATA &gt; b[1] &amp; sub$PERC_SUCATA &lt; b[2] )
alta  &lt;- subset(sub, subset=sub$PERC_SUCATA &gt; a[1] &amp; sub$PERC_SUCATA &lt; a[2] )
rm(a, b, banda)
</code></pre>

<h3>Testes preliminares: usando os dados brutos</h3>

<p>Para o teste de diferença de proporção, usar: <code>prop.test</code>.</p>

<pre><code class="r">na1 &lt;- nrow(alta)
nb1 &lt;- nrow(baixa)
pa1 &lt;- sum(as.numeric(alta$ressopro))
pb1 &lt;- sum(as.numeric(baixa$ressopro))
test1 &lt;- prop.test(x=c(pa1, pb1), n=c(na1, nb1))
print(test1)
</code></pre>

<pre><code>## 
##  2-sample test for equality of proportions with continuity
##  correction
## 
## data:  c(pa1, pb1) out of c(na1, nb1)
## X-squared = 3.505, df = 1, p-value = 0.06117
## alternative hypothesis: two.sided
## 95 percent confidence interval:
##  0.001179 0.188361
## sample estimates:
## prop 1 prop 2 
## 0.2275 0.1327
</code></pre>

<p>O p-valor obtido foi 0.0612 que é marginalmente superior ao nível de significância de 5%. O intervalo de confiança para a diferença foi entre 0.0012 e 0.1884. A conclusão é a de que proporção de ressopro nas corridas com sucata alta (0.2275) é significativamente maior do que a das corridas com sucata baixa (0.1327).</p>

<h3>Testes preliminates: excluindo as corridas UBC</h3>

<p>O segundo teste excluiu as corridas UBC devido a diferença no tamanho dos agrupamentos entre sucata alta e sucata baixa.</p>

<pre><code class="r">na2 &lt;- nrow( subset(alta,  alta$TP_CORR != &quot;UBC&quot;) )
nb2 &lt;- nrow( subset(baixa, baixa$TP_CORR != &quot;UBC&quot;) )
pa2 &lt;- sum(as.numeric(subset(alta,  alta$TP_CORR != &quot;UBC&quot;)$ressopro))
pb2 &lt;- sum(as.numeric(subset(baixa, baixa$TP_CORR != &quot;UBC&quot;)$ressopro))
test2 &lt;- prop.test(x=c(pa2, pb2), n=c(na2, nb2))
rm(na1, na2, nb1, nb2, pa1, pa2, pb1, pb2)
print(test2)
</code></pre>

<pre><code>## 
##  2-sample test for equality of proportions with continuity
##  correction
## 
## data:  c(pa2, pb2) out of c(na2, nb2)
## X-squared = 0.316, df = 1, p-value = 0.574
## alternative hypothesis: two.sided
## 95 percent confidence interval:
##  -0.08323  0.17369
## sample estimates:
## prop 1 prop 2 
## 0.2025 0.1573
</code></pre>

<p>O segundo teste que não inclui as corridas UBC mostrou que não há diferença entre o ressopro em função do percentual de sucata (p-valor = 0.574). Vamos dar uma olhada na taxa de ressopro por quantidade de sucata extratificada por família de aço:</p>

<pre><code class="r">rbind(
 c(&quot;alta&quot;,  tapply(alta$ressopro, alta$TP_CORR, sum)/table(alta$TP_CORR)),
 c(&quot;baixa&quot;, tapply(baixa$ressopro, baixa$TP_CORR, sum)/table(baixa$TP_CORR))
)
</code></pre>

<pre><code>##              AA S &gt;  6           Duplo refino CAS    Duplo refino LF    
## [1,] &quot;alta&quot;  &quot;0.206896551724138&quot; &quot;0.227272727272727&quot; &quot;0.178571428571429&quot;
## [2,] &quot;baixa&quot; &quot;0.138888888888889&quot; &quot;0.129032258064516&quot; &quot;0.227272727272727&quot;
##      UBC                 
## [1,] &quot;0.245454545454545&quot; 
## [2,] &quot;0.0416666666666667&quot;
</code></pre>

<p>Em todas as famílias exceto DR-FP o ressopro foi superior nas corridas com sucata alta. A maior diferença foi observada na família UBC. De fato, foi esta família responsável pela diferença entre <code>test1</code> e <code>test2</code>. UBC com sucata alta ressoprou 24% e com sucata baixa ressoprou 4%.</p>

<h3>Teste final com <em>bootstrapping</em></h3>

<p>a idéia do <em>bootstrapping</em> é criar várias amostras </p>

</body>

</html>

